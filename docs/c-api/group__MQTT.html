<!-- HTML header for doxygen 1.8.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Soletta™ Framework: MQTT</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="style.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Soletta™ Framework
   </div>
   <div id="projectbrief">
   Framework for making IoT devices<br /><br />
   <small>
   <a href="http://solettaproject.github.io/docs/">Full online documentation</a> | 
   <a href="index.html">C API Index</a>
   </small><br />
   </div>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">MQTT<div class="ingroups"><a class="el" href="group__Comms.html">Communication Modules</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>MQTT is a machine-to-machine (M2M)/"Internet of Things" connectivity protocol.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsol__mqtt__config.html">sol_mqtt_config</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Server Configuration.  <a href="structsol__mqtt__config.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsol__mqtt__handlers.html">sol_mqtt_handlers</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">MQTT callback handlers.  <a href="structsol__mqtt__handlers.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsol__mqtt__message.html">sol_mqtt_message</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">MQTT Message.  <a href="structsol__mqtt__message.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga5260e638c0ecc355dcd25ad66b431fee"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MQTT.html#ga5260e638c0ecc355dcd25ad66b431fee">SOL_MQTT_MESSAGE_CHECK_API_VERSION</a>(msg_,...)</td></tr>
<tr class="memdesc:ga5260e638c0ecc355dcd25ad66b431fee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Macro used to check if a struct <code>struct</code> <a class="el" href="structsol__mqtt__message.html" title="MQTT Message. ">sol_mqtt_message</a> has the expected API version.  <a href="#ga5260e638c0ecc355dcd25ad66b431fee">More...</a><br/></td></tr>
<tr class="separator:ga5260e638c0ecc355dcd25ad66b431fee"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:gaf885402d6d32451bbd8c865453d5fa28"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="group__MQTT.html#gaf885402d6d32451bbd8c865453d5fa28">sol_mqtt</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MQTT.html#gaf885402d6d32451bbd8c865453d5fa28">sol_mqtt</a></td></tr>
<tr class="memdesc:gaf885402d6d32451bbd8c865453d5fa28"><td class="mdescLeft">&#160;</td><td class="mdescRight">MQTT Object.  <a href="#gaf885402d6d32451bbd8c865453d5fa28">More...</a><br/></td></tr>
<tr class="separator:gaf885402d6d32451bbd8c865453d5fa28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5850c85693d3f6b836517e2d189df938"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structsol__mqtt__config.html">sol_mqtt_config</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MQTT.html#ga5850c85693d3f6b836517e2d189df938">sol_mqtt_config</a></td></tr>
<tr class="memdesc:ga5850c85693d3f6b836517e2d189df938"><td class="mdescLeft">&#160;</td><td class="mdescRight">Server Configuration.  <a href="#ga5850c85693d3f6b836517e2d189df938">More...</a><br/></td></tr>
<tr class="separator:ga5850c85693d3f6b836517e2d189df938"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae9b9b60fa5693c719fb07e1cc05a88fb"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structsol__mqtt__handlers.html">sol_mqtt_handlers</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MQTT.html#gae9b9b60fa5693c719fb07e1cc05a88fb">sol_mqtt_handlers</a></td></tr>
<tr class="memdesc:gae9b9b60fa5693c719fb07e1cc05a88fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">MQTT callback handlers.  <a href="#gae9b9b60fa5693c719fb07e1cc05a88fb">More...</a><br/></td></tr>
<tr class="separator:gae9b9b60fa5693c719fb07e1cc05a88fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaeb710d5009750077f8a2ebb1118a2d63"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structsol__mqtt__message.html">sol_mqtt_message</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MQTT.html#gaeb710d5009750077f8a2ebb1118a2d63">sol_mqtt_message</a></td></tr>
<tr class="memdesc:gaeb710d5009750077f8a2ebb1118a2d63"><td class="mdescLeft">&#160;</td><td class="mdescRight">MQTT Message.  <a href="#gaeb710d5009750077f8a2ebb1118a2d63">More...</a><br/></td></tr>
<tr class="separator:gaeb710d5009750077f8a2ebb1118a2d63"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:gab4ca3e13df83d0a379bbb2efc37fac11"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MQTT.html#gab4ca3e13df83d0a379bbb2efc37fac11">sol_mqtt_conn_status</a> { <br/>
&#160;&#160;<a class="el" href="group__MQTT.html#ggab4ca3e13df83d0a379bbb2efc37fac11a38d4283ceed5241d465768335cb99841">SOL_MQTT_DISCONNECTED</a> = -1, 
<a class="el" href="group__MQTT.html#ggab4ca3e13df83d0a379bbb2efc37fac11a7ab79d8f453865c85060a6c36a724d64">SOL_MQTT_CONNECTED</a> = 0, 
<a class="el" href="group__MQTT.html#ggab4ca3e13df83d0a379bbb2efc37fac11ae55a025b226b4b79acb3f8b5c755c3ad">SOL_MQTT_WRONG_PROTOCOL</a> = 1, 
<a class="el" href="group__MQTT.html#ggab4ca3e13df83d0a379bbb2efc37fac11ae06f91bf3f1ef00165471253dd643e0b">SOL_MQTT_ID_REJECTED</a> = 2, 
<br/>
&#160;&#160;<a class="el" href="group__MQTT.html#ggab4ca3e13df83d0a379bbb2efc37fac11a58c701cdd0e0f62a1d1ab4e0f4411348">SOL_MQTT_UNAVAILABLE</a> = 3
<br/>
 }</td></tr>
<tr class="memdesc:gab4ca3e13df83d0a379bbb2efc37fac11"><td class="mdescLeft">&#160;</td><td class="mdescRight">Connection status.  <a href="group__MQTT.html#gab4ca3e13df83d0a379bbb2efc37fac11">More...</a><br/></td></tr>
<tr class="separator:gab4ca3e13df83d0a379bbb2efc37fac11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga32f1d2f2917d78cb4dc37e73382e0115"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MQTT.html#ga32f1d2f2917d78cb4dc37e73382e0115">sol_mqtt_qos</a> { <a class="el" href="group__MQTT.html#gga32f1d2f2917d78cb4dc37e73382e0115acef83d80bb3a85a2c66fb2d217d7745b">SOL_MQTT_QOS_AT_MOST_ONCE</a> = 0, 
<a class="el" href="group__MQTT.html#gga32f1d2f2917d78cb4dc37e73382e0115aff74ffe70cd3e5331a038e764569e95f">SOL_MQTT_QOS_AT_LEAST_ONCE</a> = 1, 
<a class="el" href="group__MQTT.html#gga32f1d2f2917d78cb4dc37e73382e0115a33283b291b894dfaf53aa149a0660fe7">SOL_MQTT_QOS_EXACTLY_ONCE</a> = 2
 }</td></tr>
<tr class="memdesc:ga32f1d2f2917d78cb4dc37e73382e0115"><td class="mdescLeft">&#160;</td><td class="mdescRight">MQTT QOS level for message delivery.  <a href="group__MQTT.html#ga32f1d2f2917d78cb4dc37e73382e0115">More...</a><br/></td></tr>
<tr class="separator:ga32f1d2f2917d78cb4dc37e73382e0115"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga08ee4834e38274179d3e5a5fc9bcb234"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="group__MQTT.html#gaf885402d6d32451bbd8c865453d5fa28">sol_mqtt</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MQTT.html#ga08ee4834e38274179d3e5a5fc9bcb234">sol_mqtt_connect</a> (const struct <a class="el" href="structsol__mqtt__config.html">sol_mqtt_config</a> *config)</td></tr>
<tr class="memdesc:ga08ee4834e38274179d3e5a5fc9bcb234"><td class="mdescLeft">&#160;</td><td class="mdescRight">Connect to a MQTT broker.  <a href="#ga08ee4834e38274179d3e5a5fc9bcb234">More...</a><br/></td></tr>
<tr class="separator:ga08ee4834e38274179d3e5a5fc9bcb234"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab8559f8615017d3fb418bd85d777fbb9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MQTT.html#gab8559f8615017d3fb418bd85d777fbb9">sol_mqtt_disconnect</a> (struct <a class="el" href="group__MQTT.html#gaf885402d6d32451bbd8c865453d5fa28">sol_mqtt</a> *mqtt)</td></tr>
<tr class="memdesc:gab8559f8615017d3fb418bd85d777fbb9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disconnect from MQTT Broker.  <a href="#gab8559f8615017d3fb418bd85d777fbb9">More...</a><br/></td></tr>
<tr class="separator:gab8559f8615017d3fb418bd85d777fbb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3b44bc46b3a0ef7be8854a5011554bbf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MQTT.html#ga3b44bc46b3a0ef7be8854a5011554bbf">sol_mqtt_get_connection_status</a> (const struct <a class="el" href="group__MQTT.html#gaf885402d6d32451bbd8c865453d5fa28">sol_mqtt</a> *mqtt)</td></tr>
<tr class="memdesc:ga3b44bc46b3a0ef7be8854a5011554bbf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get connection status.  <a href="#ga3b44bc46b3a0ef7be8854a5011554bbf">More...</a><br/></td></tr>
<tr class="separator:ga3b44bc46b3a0ef7be8854a5011554bbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa945624a84eb8e537af9094ad37fe47e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MQTT.html#gaa945624a84eb8e537af9094ad37fe47e">sol_mqtt_publish</a> (const struct <a class="el" href="group__MQTT.html#gaf885402d6d32451bbd8c865453d5fa28">sol_mqtt</a> *mqtt, struct <a class="el" href="structsol__mqtt__message.html">sol_mqtt_message</a> *<a class="el" href="mqtt-publish_8c.html#a6762be69acde7edb0ed7a69123c34a9e">message</a>)</td></tr>
<tr class="memdesc:gaa945624a84eb8e537af9094ad37fe47e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send the Broker a message to be published in a given topic.  <a href="#gaa945624a84eb8e537af9094ad37fe47e">More...</a><br/></td></tr>
<tr class="separator:gaa945624a84eb8e537af9094ad37fe47e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9534f5d474232ae52b6baffa17e15698"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MQTT.html#ga9534f5d474232ae52b6baffa17e15698">sol_mqtt_reconnect</a> (struct <a class="el" href="group__MQTT.html#gaf885402d6d32451bbd8c865453d5fa28">sol_mqtt</a> *mqtt)</td></tr>
<tr class="memdesc:ga9534f5d474232ae52b6baffa17e15698"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reestablish the connection to the MQTT broker.  <a href="#ga9534f5d474232ae52b6baffa17e15698">More...</a><br/></td></tr>
<tr class="separator:ga9534f5d474232ae52b6baffa17e15698"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7c9b2fb89f4f1b777e60d8c5d38901a2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MQTT.html#ga7c9b2fb89f4f1b777e60d8c5d38901a2">sol_mqtt_subscribe</a> (const struct <a class="el" href="group__MQTT.html#gaf885402d6d32451bbd8c865453d5fa28">sol_mqtt</a> *mqtt, const char *<a class="el" href="mqtt-subscribe_8c.html#affecb48e716753e10b44feac31f12529">topic</a>, <a class="el" href="group__MQTT.html#ga32f1d2f2917d78cb4dc37e73382e0115">sol_mqtt_qos</a> qos)</td></tr>
<tr class="memdesc:ga7c9b2fb89f4f1b777e60d8c5d38901a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ask the Broker to be subscribed to a given topic.  <a href="#ga7c9b2fb89f4f1b777e60d8c5d38901a2">More...</a><br/></td></tr>
<tr class="separator:ga7c9b2fb89f4f1b777e60d8c5d38901a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>MQTT is a machine-to-machine (M2M)/"Internet of Things" connectivity protocol. </p>
<p>It was designed as an extremely lightweight publish/subscribe messaging transport. It is useful for connections with remote locations where a small code footprint is required and/or network bandwidth is at a premium. For example, it has been used in sensors communicating to a broker via satellite link, over occasional dial-up connections with healthcare providers, and in a range of home automation and small device scenarios. It is also ideal for mobile applications because of its small size, low power usage, minimised data packets, and efficient distribution of information to one or many receivers </p>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ga5260e638c0ecc355dcd25ad66b431fee"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SOL_MQTT_MESSAGE_CHECK_API_VERSION</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">msg_, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">if</span> (<a class="code" href="group__Macros.html#ga13df8dd376a5c466790b5c19d8ebfd8d">SOL_UNLIKELY</a>((msg_)-&gt;<a class="code" href="structsol__http__params.html#a0d276609f9d906362f1ca1a656c6f605">api_version</a> != \</div>
<div class="line">        <a class="code" href="sol-mqtt_8h.html#a11a68e445488fa1702b807665425cc54">SOL_MQTT_MESSAGE_API_VERSION</a>)) { <a class="code" href="group__Log.html#ga823cf64eb1674aa6f3337e05563d5929">\</a></div>
<div class="line"><a class="code" href="group__Log.html#ga823cf64eb1674aa6f3337e05563d5929">        SOL_ERR</a>(<span class="stringliteral">&quot;Unexpected API version (message is %&quot;</span> PRIu16 <span class="stringliteral">&quot;, expected %&quot;</span> PRIu16 <span class="stringliteral">&quot;)&quot;</span>, \</div>
<div class="line">            (msg_)-&gt;<a class="code" href="structsol__http__params.html#a0d276609f9d906362f1ca1a656c6f605">api_version</a>, <a class="code" href="sol-mqtt_8h.html#a11a68e445488fa1702b807665425cc54">SOL_MQTT_MESSAGE_API_VERSION</a>); \</div>
<div class="line">        return __VA_ARGS__; \</div>
<div class="line">    }</div>
<div class="ttc" id="structsol__http__params_html_a0d276609f9d906362f1ca1a656c6f605"><div class="ttname"><a href="structsol__http__params.html#a0d276609f9d906362f1ca1a656c6f605">sol_http_params::api_version</a></div><div class="ttdeci">uint16_t api_version</div><div class="ttdef"><b>Definition:</b> sol-http.h:181</div></div>
<div class="ttc" id="group__Macros_html_ga13df8dd376a5c466790b5c19d8ebfd8d"><div class="ttname"><a href="group__Macros.html#ga13df8dd376a5c466790b5c19d8ebfd8d">SOL_UNLIKELY</a></div><div class="ttdeci">#define SOL_UNLIKELY(x)</div><div class="ttdoc">Convenience macro for unlikely branch annotation. </div><div class="ttdef"><b>Definition:</b> sol-macros.h:201</div></div>
<div class="ttc" id="group__Log_html_ga823cf64eb1674aa6f3337e05563d5929"><div class="ttname"><a href="group__Log.html#ga823cf64eb1674aa6f3337e05563d5929">SOL_ERR</a></div><div class="ttdeci">#define SOL_ERR(fmt,...)</div><div class="ttdoc">Logs a message with error level. </div><div class="ttdef"><b>Definition:</b> sol-log.h:632</div></div>
<div class="ttc" id="sol-mqtt_8h_html_a11a68e445488fa1702b807665425cc54"><div class="ttname"><a href="sol-mqtt_8h.html#a11a68e445488fa1702b807665425cc54">SOL_MQTT_MESSAGE_API_VERSION</a></div><div class="ttdeci">#define SOL_MQTT_MESSAGE_API_VERSION</div><div class="ttdef"><b>Definition:</b> sol-mqtt.h:143</div></div>
</div><!-- fragment -->
<p>Macro used to check if a struct <code>struct</code> <a class="el" href="structsol__mqtt__message.html" title="MQTT Message. ">sol_mqtt_message</a> has the expected API version. </p>
<p>In case it has wrong version, it'll return extra arguments passed to the macro. </p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="gaf885402d6d32451bbd8c865453d5fa28"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MQTT.html#gaf885402d6d32451bbd8c865453d5fa28">sol_mqtt</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>MQTT Object. </p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="group__MQTT.html#ga08ee4834e38274179d3e5a5fc9bcb234" title="Connect to a MQTT broker. ">sol_mqtt_connect</a></dd></dl>
<p>This object is the abstraction of a MQTT session. This is the base structure for all MQTT operations and is obtained through the <a class="el" href="group__MQTT.html#ga08ee4834e38274179d3e5a5fc9bcb234" title="Connect to a MQTT broker. ">sol_mqtt_connect()</a> API. </p>

</div>
</div>
<a class="anchor" id="ga5850c85693d3f6b836517e2d189df938"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structsol__mqtt__config.html">sol_mqtt_config</a>  <a class="el" href="structsol__mqtt__config.html">sol_mqtt_config</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Server Configuration. </p>

</div>
</div>
<a class="anchor" id="gae9b9b60fa5693c719fb07e1cc05a88fb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structsol__mqtt__handlers.html">sol_mqtt_handlers</a>  <a class="el" href="structsol__mqtt__handlers.html">sol_mqtt_handlers</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>MQTT callback handlers. </p>

</div>
</div>
<a class="anchor" id="gaeb710d5009750077f8a2ebb1118a2d63"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structsol__mqtt__message.html">sol_mqtt_message</a>  <a class="el" href="structsol__mqtt__message.html">sol_mqtt_message</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>MQTT Message. </p>
<p>This object is the abstraction of a MQTT message and is the base for publishing and receiving data to/from the broker. </p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="gab4ca3e13df83d0a379bbb2efc37fac11"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__MQTT.html#gab4ca3e13df83d0a379bbb2efc37fac11">sol_mqtt_conn_status</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Connection status. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="ggab4ca3e13df83d0a379bbb2efc37fac11a38d4283ceed5241d465768335cb99841"></a>SOL_MQTT_DISCONNECTED</em>&#160;</td><td class="fielddoc">
<p>Disconnected due to unexpected reasons. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="ggab4ca3e13df83d0a379bbb2efc37fac11a7ab79d8f453865c85060a6c36a724d64"></a>SOL_MQTT_CONNECTED</em>&#160;</td><td class="fielddoc">
<p>Successfully connected to the broker. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="ggab4ca3e13df83d0a379bbb2efc37fac11ae55a025b226b4b79acb3f8b5c755c3ad"></a>SOL_MQTT_WRONG_PROTOCOL</em>&#160;</td><td class="fielddoc">
<p>MQTT protocol rejected by the broker. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="ggab4ca3e13df83d0a379bbb2efc37fac11ae06f91bf3f1ef00165471253dd643e0b"></a>SOL_MQTT_ID_REJECTED</em>&#160;</td><td class="fielddoc">
<p>Client ID rejected by the broker. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="ggab4ca3e13df83d0a379bbb2efc37fac11a58c701cdd0e0f62a1d1ab4e0f4411348"></a>SOL_MQTT_UNAVAILABLE</em>&#160;</td><td class="fielddoc">
<p>Broker unavailable at provided host. </p>
</td></tr>
</table>

</div>
</div>
<a class="anchor" id="ga32f1d2f2917d78cb4dc37e73382e0115"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__MQTT.html#ga32f1d2f2917d78cb4dc37e73382e0115">sol_mqtt_qos</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>MQTT QOS level for message delivery. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="gga32f1d2f2917d78cb4dc37e73382e0115acef83d80bb3a85a2c66fb2d217d7745b"></a>SOL_MQTT_QOS_AT_MOST_ONCE</em>&#160;</td><td class="fielddoc">
<p>The message is delivered according to the capabilities of the underlying network. </p>
<p>No response is sent by the receiver and no retry is performed by the sender. The message arrives at the receiver either once or not at all. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="gga32f1d2f2917d78cb4dc37e73382e0115aff74ffe70cd3e5331a038e764569e95f"></a>SOL_MQTT_QOS_AT_LEAST_ONCE</em>&#160;</td><td class="fielddoc">
<p>This quality of service ensures that the message arrives at the receiver at least once. </p>
<p>A QoS 1 PUBLISH Packet has a Packet Identifier in its variable header and is acknowledged by a PUBACK Packet. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="gga32f1d2f2917d78cb4dc37e73382e0115a33283b291b894dfaf53aa149a0660fe7"></a>SOL_MQTT_QOS_EXACTLY_ONCE</em>&#160;</td><td class="fielddoc">
<p>This is the highest quality of service, for use when neither loss nor duplication of messages are acceptable. </p>
<p>There is an increased overhead associated with this quality of service. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga08ee4834e38274179d3e5a5fc9bcb234"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="group__MQTT.html#gaf885402d6d32451bbd8c865453d5fa28">sol_mqtt</a>* sol_mqtt_connect </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structsol__mqtt__config.html">sol_mqtt_config</a> *&#160;</td>
          <td class="paramname"><em>config</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Connect to a MQTT broker. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>Configuration and callbacks</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>New mqtt object on success, NULL otherwise </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="src_2samples_2iio_09network_2iio-gyroscope-console-and-mqtt-publish_8c-example.html#a84">/src/samples/iio+network/iio-gyroscope-console-and-mqtt-publish.c</a>, <a class="el" href="src_2samples_2mqtt_2mqtt-publish_8c-example.html#a32">/src/samples/mqtt/mqtt-publish.c</a>, and <a class="el" href="src_2samples_2mqtt_2mqtt-subscribe_8c-example.html#a29">/src/samples/mqtt/mqtt-subscribe.c</a>.</dd>
</dl>
<p>Referenced by <a class="el" href="iio-gyroscope-console-and-mqtt-publish_8c.html#a0ddf1224851353fc92bfbff6f499fa97">main()</a>.</p>

</div>
</div>
<a class="anchor" id="gab8559f8615017d3fb418bd85d777fbb9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sol_mqtt_disconnect </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="group__MQTT.html#gaf885402d6d32451bbd8c865453d5fa28">sol_mqtt</a> *&#160;</td>
          <td class="paramname"><em>mqtt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Disconnect from MQTT Broker. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mqtt</td><td>MQTT Object;</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="group__MQTT.html#ga08ee4834e38274179d3e5a5fc9bcb234" title="Connect to a MQTT broker. ">sol_mqtt_connect</a></dd></dl>
<p>Terminate the connection to the broker and free the resources associated to the mqtt object. </p>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="src_2samples_2iio_09network_2iio-gyroscope-console-and-mqtt-publish_8c-example.html#a89">/src/samples/iio+network/iio-gyroscope-console-and-mqtt-publish.c</a>, <a class="el" href="src_2samples_2mqtt_2mqtt-publish_8c-example.html#a35">/src/samples/mqtt/mqtt-publish.c</a>, and <a class="el" href="src_2samples_2mqtt_2mqtt-subscribe_8c-example.html#a31">/src/samples/mqtt/mqtt-subscribe.c</a>.</dd>
</dl>
<p>Referenced by <a class="el" href="iio-gyroscope-console-and-mqtt-publish_8c.html#a0ddf1224851353fc92bfbff6f499fa97">main()</a>.</p>

</div>
</div>
<a class="anchor" id="ga3b44bc46b3a0ef7be8854a5011554bbf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sol_mqtt_get_connection_status </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="group__MQTT.html#gaf885402d6d32451bbd8c865453d5fa28">sol_mqtt</a> *&#160;</td>
          <td class="paramname"><em>mqtt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get connection status. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mqtt</td><td>MQTT Object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="group__MQTT.html#gab4ca3e13df83d0a379bbb2efc37fac11" title="Connection status. ">sol_mqtt_conn_status</a></dd></dl>
<dl class="section return"><dt>Returns</dt><dd>sol_mqtt_conn_status code </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="src_2samples_2iio_09network_2iio-gyroscope-console-and-mqtt-publish_8c-example.html#a31">/src/samples/iio+network/iio-gyroscope-console-and-mqtt-publish.c</a>, <a class="el" href="src_2samples_2mqtt_2mqtt-publish_8c-example.html#a12">/src/samples/mqtt/mqtt-publish.c</a>, and <a class="el" href="src_2samples_2mqtt_2mqtt-subscribe_8c-example.html#a12">/src/samples/mqtt/mqtt-subscribe.c</a>.</dd>
</dl>
<p>Referenced by <a class="el" href="iio-gyroscope-console-and-mqtt-publish_8c.html#a4f29673b4a00b8c6740301f425f4eb81">iio_gyroscope_reader_cb()</a>, and <a class="el" href="iio-gyroscope-console-and-mqtt-publish_8c.html#a1acc0f3aeec79b18fc37e22325ccfd09">on_connect()</a>.</p>

</div>
</div>
<a class="anchor" id="gaa945624a84eb8e537af9094ad37fe47e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sol_mqtt_publish </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="group__MQTT.html#gaf885402d6d32451bbd8c865453d5fa28">sol_mqtt</a> *&#160;</td>
          <td class="paramname"><em>mqtt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsol__mqtt__message.html">sol_mqtt_message</a> *&#160;</td>
          <td class="paramname"><em>message</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send the Broker a message to be published in a given topic. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mqtt</td><td>MQTT Object </td></tr>
    <tr><td class="paramname">message</td><td>Message to be published. The memory associated to this object should be handled by the caller.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -EINVAL otherwise </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="src_2samples_2iio_09network_2iio-gyroscope-console-and-mqtt-publish_8c-example.html#a59">/src/samples/iio+network/iio-gyroscope-console-and-mqtt-publish.c</a>, and <a class="el" href="src_2samples_2mqtt_2mqtt-publish_8c-example.html#a7">/src/samples/mqtt/mqtt-publish.c</a>.</dd>
</dl>
<p>Referenced by <a class="el" href="iio-gyroscope-console-and-mqtt-publish_8c.html#a4f29673b4a00b8c6740301f425f4eb81">iio_gyroscope_reader_cb()</a>, and <a class="el" href="mqtt-publish_8c.html#ad3cf23c38ddd09919ed9ae697efb1213">publish_callback()</a>.</p>

</div>
</div>
<a class="anchor" id="ga9534f5d474232ae52b6baffa17e15698"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sol_mqtt_reconnect </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="group__MQTT.html#gaf885402d6d32451bbd8c865453d5fa28">sol_mqtt</a> *&#160;</td>
          <td class="paramname"><em>mqtt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reestablish the connection to the MQTT broker. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mqtt</td><td>MQTT Object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -EINVAL otherwise </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="src_2samples_2iio_09network_2iio-gyroscope-console-and-mqtt-publish_8c-example.html#a29">/src/samples/iio+network/iio-gyroscope-console-and-mqtt-publish.c</a>, <a class="el" href="src_2samples_2mqtt_2mqtt-publish_8c-example.html#a10">/src/samples/mqtt/mqtt-publish.c</a>, and <a class="el" href="src_2samples_2mqtt_2mqtt-subscribe_8c-example.html#a10">/src/samples/mqtt/mqtt-subscribe.c</a>.</dd>
</dl>
<p>Referenced by <a class="el" href="iio-gyroscope-console-and-mqtt-publish_8c.html#ab84721156c74dee55007098b1a72404e">try_reconnect()</a>.</p>

</div>
</div>
<a class="anchor" id="ga7c9b2fb89f4f1b777e60d8c5d38901a2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sol_mqtt_subscribe </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="group__MQTT.html#gaf885402d6d32451bbd8c865453d5fa28">sol_mqtt</a> *&#160;</td>
          <td class="paramname"><em>mqtt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>topic</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MQTT.html#ga32f1d2f2917d78cb4dc37e73382e0115">sol_mqtt_qos</a>&#160;</td>
          <td class="paramname"><em>qos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Ask the Broker to be subscribed to a given topic. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mqtt</td><td>MQTT Object </td></tr>
    <tr><td class="paramname">topic</td><td>Null terminated string with the topic to subscribe to </td></tr>
    <tr><td class="paramname">qos</td><td>MQTT QOS that should be used by the subscribe message</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -EINVAL otherwise </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="src_2samples_2mqtt_2mqtt-subscribe_8c-example.html#a16">/src/samples/mqtt/mqtt-subscribe.c</a>.</dd>
</dl>
<p>Referenced by <a class="el" href="mqtt-subscribe_8c.html#a1acc0f3aeec79b18fc37e22325ccfd09">on_connect()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
<a href="http://solettaproject.github.io/docs/">Full online documentation</a> | 
<a href="index.html">C API Index</a>
</small></address>
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
