<!-- HTML header for doxygen 1.8.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Soletta™ Framework: /src/samples/flow/c-api/find-type.c</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="style.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Soletta™ Framework
   </div>
   <div id="projectbrief">
   Framework for making IoT devices<br /><br />
   <small>
   <a href="http://solettaproject.github.io/docs/">Full online documentation</a> | 
   <a href="index.html">C API Index</a>
   </small><br />
   </div>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">/src/samples/flow/c-api/find-type.c</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * This file is part of the Soletta (TM) Project</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * Copyright (C) 2015 Intel Corporation. All rights reserved.</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);</span></div>
<div class="line"><span class="comment"> * you may not use this file except in compliance with the License.</span></div>
<div class="line"><span class="comment"> * You may obtain a copy of the License at</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> *     http://www.apache.org/licenses/LICENSE-2.0</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * Unless required by applicable law or agreed to in writing, software</span></div>
<div class="line"><span class="comment"> * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span></div>
<div class="line"><span class="comment"> * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span></div>
<div class="line"><span class="comment"> * See the License for the specific language governing permissions and</span></div>
<div class="line"><span class="comment"> * limitations under the License.</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#include &lt;getopt.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;stdlib.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;string.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;errno.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;inttypes.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;limits.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;dlfcn.h&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="sol-flow_8h.html">sol-flow.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="sol-flow-resolver_8h.html">sol-flow-resolver.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="sol-util-file_8h.html">sol-util-file.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="soletta_8h.html">soletta.h</a>&quot;</span></div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="a0"></a><a class="code" href="find-type_8c.html#aef20148be3ae52ac456c42f8217b8a95">show_help</a>(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">char</span> **argv = <a name="a1"></a><a class="code" href="group__Mainloop.html#ga924fdfbe38b222739c2bc43a63802fac">sol_argv</a>();</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span> *progname = argv[0];</div>
<div class="line"></div>
<div class="line">    printf(</div>
<div class="line">        <span class="stringliteral">&quot;Usage:\n&quot;</span></div>
<div class="line">        <span class="stringliteral">&quot;\t%s type-name1 [type-name2...]\n&quot;</span></div>
<div class="line">        <span class="stringliteral">&quot;\t\twill find type based on its name (ie: &#39;wallclock/minute&#39;).\n&quot;</span></div>
<div class="line">        <span class="stringliteral">&quot;\t\tor will try to query names in configuration files (ie: sol-flow*.json).\n&quot;</span></div>
<div class="line">        <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line">        <span class="stringliteral">&quot;\t%s --of-module=modname\n&quot;</span></div>
<div class="line">        <span class="stringliteral">&quot;\t%s -m=modname\n&quot;</span></div>
<div class="line">        <span class="stringliteral">&quot;\t\tlist all node types names built inside dynamic module modname (ie: &#39;iio&#39;)\n&quot;</span></div>
<div class="line">        <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line">        <span class="stringliteral">&quot;\t%s --builtins\n&quot;</span></div>
<div class="line">        <span class="stringliteral">&quot;\t%s -b\n&quot;</span></div>
<div class="line">        <span class="stringliteral">&quot;\t\tlist all node types names built inside libsoletta.\n&quot;</span></div>
<div class="line">        <span class="stringliteral">&quot;\n&quot;</span>,</div>
<div class="line">        progname, progname, progname, progname, progname);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * Types known at compile time may differ from those available at</span></div>
<div class="line"><span class="comment"> * runtime via shared libraries or dynamically loadable</span></div>
<div class="line"><span class="comment"> * modules. To guard against those issues, Soletta keeps a member</span></div>
<div class="line"><span class="comment"> * field &#39;api_version&#39; at the start of the structure. This can be</span></div>
<div class="line"><span class="comment"> * compiled out for performance purposes, or when dynamic</span></div>
<div class="line"><span class="comment"> * libraries and modules are disabled.</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * if it is enabled, then check before accessing members.</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="preprocessor">#ifndef SOL_NO_API_VERSION</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#define CHECK_TYPE_API_VERSION(type, ...) \</span></div>
<div class="line"><span class="preprocessor">    do { \</span></div>
<div class="line"><span class="preprocessor">        if (type-&gt;api_version != SOL_FLOW_NODE_TYPE_API_VERSION) { \</span></div>
<div class="line"><span class="preprocessor">            fprintf(stderr, &quot;ERROR: type=%p has api_version=%&quot; PRIu16 \</span></div>
<div class="line"><span class="preprocessor">                &quot; while %&quot; PRIu16 &quot; was expected.\n&quot;, \</span></div>
<div class="line"><span class="preprocessor">                type, type-&gt;api_version, SOL_FLOW_NODE_TYPE_API_VERSION); \</span></div>
<div class="line"><span class="preprocessor">            return __VA_ARGS__; \</span></div>
<div class="line"><span class="preprocessor">        } \</span></div>
<div class="line"><span class="preprocessor">    } while (0)</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#else</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#define CHECK_TYPE_API_VERSION(type, ...) do { } while (0)</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"></div>
<div class="line"><span class="comment">/* like sol_flow_node_type, the sol_flow_node_type_description is also</span></div>
<div class="line"><span class="comment"> * versioned and must be checked.</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="preprocessor">#ifndef SOL_NO_API_VERSION</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#define CHECK_TYPE_DESC_API_VERSION(type, ...) \</span></div>
<div class="line"><span class="preprocessor">    do { \</span></div>
<div class="line"><span class="preprocessor">        if (!type-&gt;description) { \</span></div>
<div class="line"><span class="preprocessor">            fprintf(stderr, &quot;ERROR: type=%p has no description.\n&quot;, type); \</span></div>
<div class="line"><span class="preprocessor">            return __VA_ARGS__; \</span></div>
<div class="line"><span class="preprocessor">        } \</span></div>
<div class="line"><span class="preprocessor">        if (type-&gt;description-&gt;api_version != SOL_FLOW_NODE_TYPE_DESCRIPTION_API_VERSION) { \</span></div>
<div class="line"><span class="preprocessor">            fprintf(stderr, &quot;ERROR: type=%p description-&gt;api_version=%&quot; PRIu16 \</span></div>
<div class="line"><span class="preprocessor">                &quot; while %&quot; PRIu16 &quot; was expected.\n&quot;, \</span></div>
<div class="line"><span class="preprocessor">                type, type-&gt;description-&gt;api_version, SOL_FLOW_NODE_TYPE_DESCRIPTION_API_VERSION); \</span></div>
<div class="line"><span class="preprocessor">            return __VA_ARGS__; \</span></div>
<div class="line"><span class="preprocessor">        } \</span></div>
<div class="line"><span class="preprocessor">    } while (0)</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#else</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#define CHECK_TYPE_DESC_API_VERSION(type, ...) do { } while (0)</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">bool</span></div>
<div class="line"><a name="a2"></a><a class="code" href="find-type_8c.html#af024c281605b49fb8274f6a5cba1d050">cb_print_type_name</a>(<span class="keywordtype">void</span> *data, <span class="keyword">const</span> <span class="keyword">struct</span> <a name="_a3"></a><a class="code" href="structsol__flow__node__type.html">sol_flow_node_type</a> *type)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span> *prefix = data;</div>
<div class="line"></div>
<div class="line">    <span class="comment">/* these checks are needed since we&#39;re calling dlopen() ourselves</span></div>
<div class="line"><span class="comment">     * to manually load the flow modules in show_module_types() and</span></div>
<div class="line"><span class="comment">     * this function is shared for show_builtins() and that one.</span></div>
<div class="line"><span class="comment">     */</span></div>
<div class="line">    <a name="a4"></a><a class="code" href="find-type_8c.html#aaccd9b7521bb77e0414f0051485295d0">CHECK_TYPE_API_VERSION</a>(type, <span class="keyword">true</span>);</div>
<div class="line">    <a name="a5"></a><a class="code" href="find-type_8c.html#a008209fdcb213004cc9970f20b51f7e6">CHECK_TYPE_DESC_API_VERSION</a>(type, <span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">    printf(<span class="stringliteral">&quot;%s: %s\n&quot;</span>, prefix, type-&gt;description-&gt;name);</div>
<div class="line">    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * sol_flow_foreach_builtin_node_type() will call you back will all</span></div>
<div class="line"><span class="comment"> * built-in types, that is, the types that were compiled inside</span></div>
<div class="line"><span class="comment"> * libsoletta.so. Other modules may still be available, see</span></div>
<div class="line"><span class="comment"> * show_module_types().</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="a6"></a><a class="code" href="find-type_8c.html#ac30de2ff4e7f2de6ee1cfe478b4da774">show_builtins</a>(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    sol_flow_foreach_builtin_node_type(<a class="code" href="find-type_8c.html#af024c281605b49fb8274f6a5cba1d050">cb_print_type_name</a>, <span class="stringliteral">&quot;builtin&quot;</span>);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">/* Dynamically loadable modules can provide extra set of node types by</span></div>
<div class="line"><span class="comment"> * providing a public symbol sol_flow_foreach_module_node_type() with</span></div>
<div class="line"><span class="comment"> * the same signature as used by sol_flow_foreach_builtin_node_type().</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * These modules are usually installed at</span></div>
<div class="line"><span class="comment"> * ${PREFIX}/lib/soletta/modules/flow/${modname}.so, but we also</span></div>
<div class="line"><span class="comment"> * support users specifying a path here.</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="a7"></a><a class="code" href="find-type_8c.html#a05b61a745cbf47939c3d6c183013285a">show_module_types</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *modname)</div>
<div class="line">{</div>
<div class="line">    void (*<span class="keywordflow">foreach</span>)(bool (*cb)(<span class="keywordtype">void</span> *data, <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="structsol__flow__node__type.html">sol_flow_node_type</a> *type), <span class="keyword">const</span> <span class="keywordtype">void</span> *data);</div>
<div class="line">    <span class="keywordtype">char</span> install_rootdir[PATH_MAX], path[PATH_MAX];</div>
<div class="line">    <span class="keywordtype">void</span> *h;</div>
<div class="line">    <span class="keywordtype">int</span> r;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (!modname || modname[0] == <span class="charliteral">&#39;\0&#39;</span>)</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (modname[0] == <span class="charliteral">&#39;.&#39;</span> || modname[0] == <span class="charliteral">&#39;/&#39;</span>) {</div>
<div class="line">        <span class="keywordtype">size_t</span> len = strlen(modname);</div>
<div class="line">        <span class="keywordflow">if</span> (len &gt;= <span class="keyword">sizeof</span>(path)) {</div>
<div class="line">            fprintf(stderr, <span class="stringliteral">&quot;ERROR: path is too long: %s\n&quot;</span>, modname);</div>
<div class="line">            <span class="keywordflow">return</span>;</div>
<div class="line">        }</div>
<div class="line">        memcpy(path, modname, len + 1);</div>
<div class="line">        <span class="keywordflow">goto</span> load;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">/*</span></div>
<div class="line"><span class="comment">     * Soletta is relocatable and provides sol_util_get_rootdir() that</span></div>
<div class="line"><span class="comment">     * tries to find the installation path from current binary or</span></div>
<div class="line"><span class="comment">     * libsoletta.so</span></div>
<div class="line"><span class="comment">     */</span></div>
<div class="line">    r = <a name="a8"></a><a class="code" href="group__File-utils.html#ga23e877a7e6dbc5c04152af88c026e770">sol_util_get_rootdir</a>(install_rootdir, <span class="keyword">sizeof</span>(install_rootdir));</div>
<div class="line">    <span class="keywordflow">if</span> (r &lt; 0 || r &gt;= (<span class="keywordtype">int</span>)<span class="keyword">sizeof</span>(install_rootdir)) {</div>
<div class="line">        fputs(<span class="stringliteral">&quot;ERROR: could not get libsoletta installation dir.\n&quot;</span>, stderr);</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">/* these usually come from build system if building from inside soletta,</span></div>
<div class="line"><span class="comment">     * otherwise check pkg-config --variable=modulesdir soletta</span></div>
<div class="line"><span class="comment">     */</span></div>
<div class="line"><span class="preprocessor">#ifndef MODULESDIR</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#define MODULESDIR &quot;/usr/lib/soletta/modules&quot;</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#ifndef FLOWMODULESDIR</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#define FLOWMODULESDIR MODULESDIR &quot;/flow&quot;</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line">    r = snprintf(path, <span class="keyword">sizeof</span>(path), <span class="stringliteral">&quot;%s&quot;</span> <a name="a9"></a><a class="code" href="find-type_8c.html#ac2bc3a0fab3b9af1a96dcdc932547509">FLOWMODULESDIR</a> <span class="stringliteral">&quot;/%s.so&quot;</span>,</div>
<div class="line">        install_rootdir, modname);</div>
<div class="line">    <span class="keywordflow">if</span> (r &lt; 0 || r &gt;= (<span class="keywordtype">int</span>)<span class="keyword">sizeof</span>(install_rootdir)) {</div>
<div class="line">        fprintf(stderr, <span class="stringliteral">&quot;ERROR: path is too long %s&quot;</span> <a class="code" href="find-type_8c.html#ac2bc3a0fab3b9af1a96dcdc932547509">FLOWMODULESDIR</a> <span class="stringliteral">&quot;/%s.so\n&quot;</span>,</div>
<div class="line">            install_rootdir, modname);</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">load:</div>
<div class="line">    h = dlopen(path, RTLD_LAZY | RTLD_LOCAL);</div>
<div class="line">    <span class="keywordflow">if</span> (!h) {</div>
<div class="line">        fprintf(stderr, <span class="stringliteral">&quot;ERROR: could not load %s: %s\n&quot;</span>,</div>
<div class="line">            path, dlerror());</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">foreach</span> = dlsym(h, <span class="stringliteral">&quot;sol_flow_foreach_module_node_type&quot;</span>);</div>
<div class="line">    <span class="keywordflow">if</span> (!<span class="keywordflow">foreach</span>) {</div>
<div class="line">        fprintf(stderr, <span class="stringliteral">&quot;ERROR: could not find symbol &quot;</span></div>
<div class="line">            <span class="stringliteral">&quot;sol_flow_foreach_module_node_type() inside %s: %s\n&quot;</span>,</div>
<div class="line">            path, dlerror());</div>
<div class="line">        <span class="keywordflow">goto</span> end;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">foreach</span>(<a class="code" href="find-type_8c.html#af024c281605b49fb8274f6a5cba1d050">cb_print_type_name</a>, modname);</div>
<div class="line"></div>
<div class="line">end:</div>
<div class="line">    dlclose(h);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="a10"></a><a class="code" href="find-type_8c.html#a0441c083e307b121d9e163d93813738f">print_type</a>(<span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="structsol__flow__node__type.html">sol_flow_node_type</a> *type)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">struct </span>sol_flow_node_type_description *tdesc;</div>
<div class="line"></div>
<div class="line">    <a class="code" href="find-type_8c.html#aaccd9b7521bb77e0414f0051485295d0">CHECK_TYPE_API_VERSION</a>(type);</div>
<div class="line">    <a class="code" href="find-type_8c.html#a008209fdcb213004cc9970f20b51f7e6">CHECK_TYPE_DESC_API_VERSION</a>(type);</div>
<div class="line"></div>
<div class="line">    tdesc = type-&gt;description;</div>
<div class="line"></div>
<div class="line">    printf(</div>
<div class="line">        <span class="stringliteral">&quot;type {\n&quot;</span></div>
<div class="line">        <span class="stringliteral">&quot;\tname: %s\n&quot;</span></div>
<div class="line">        <span class="stringliteral">&quot;\tcetegory: %s\n&quot;</span></div>
<div class="line">        <span class="stringliteral">&quot;\tdescription: %s\n&quot;</span></div>
<div class="line">        <span class="stringliteral">&quot;\tauthor: %s\n&quot;</span></div>
<div class="line">        <span class="stringliteral">&quot;\turl: %s\n&quot;</span></div>
<div class="line">        <span class="stringliteral">&quot;\tlicense: %s\n&quot;</span></div>
<div class="line">        <span class="stringliteral">&quot;\tversion: %s\n&quot;</span>,</div>
<div class="line">        tdesc-&gt;name,</div>
<div class="line">        tdesc-&gt;category,</div>
<div class="line">        tdesc-&gt;description,</div>
<div class="line">        tdesc-&gt;author,</div>
<div class="line">        tdesc-&gt;url,</div>
<div class="line">        tdesc-&gt;license,</div>
<div class="line">        tdesc-&gt;version);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (tdesc-&gt;options) {</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">struct </span>sol_flow_node_options_description *odesc = tdesc-&gt;options;</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">struct </span>sol_flow_node_options_member_description *omemb;</div>
<div class="line"></div>
<div class="line">        printf(</div>
<div class="line">            <span class="stringliteral">&quot;\toptions%s: [\n&quot;</span>,</div>
<div class="line">            odesc-&gt;required ? <span class="stringliteral">&quot; [required]&quot;</span> : <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">for</span> (omemb = odesc-&gt;members; omemb-&gt;name != NULL; omemb++) {</div>
<div class="line">            printf(<span class="stringliteral">&quot;\t\t%s: %s%s # %s\n&quot;</span>,</div>
<div class="line">                omemb-&gt;name, omemb-&gt;data_type,</div>
<div class="line">                omemb-&gt;required ? <span class="stringliteral">&quot; [required]&quot;</span> : <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line">                omemb-&gt;description);</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        puts(<span class="stringliteral">&quot;\t]&quot;</span>);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (!tdesc-&gt;ports_in)</div>
<div class="line">        puts(<span class="stringliteral">&quot;\tports_in: none&quot;</span>);</div>
<div class="line">    <span class="keywordflow">else</span> {</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">struct </span>sol_flow_port_description *<span class="keyword">const</span> *pdesc = tdesc-&gt;ports_in;</div>
<div class="line"></div>
<div class="line">        puts(<span class="stringliteral">&quot;\tports_in: [&quot;</span>);</div>
<div class="line">        <span class="keywordflow">for</span> (; *pdesc != NULL; pdesc++) {</div>
<div class="line">            <span class="keyword">const</span> <span class="keyword">struct </span>sol_flow_port_description *d = *pdesc;</div>
<div class="line"></div>
<div class="line">            printf(<span class="stringliteral">&quot;\t\t%s&quot;</span>, d-&gt;name);</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">if</span> (d-&gt;array_size)</div>
<div class="line">                printf(<span class="stringliteral">&quot;[%&quot;</span> PRIu16 <span class="stringliteral">&quot;]&quot;</span>, d-&gt;array_size);</div>
<div class="line"></div>
<div class="line">            printf(<span class="stringliteral">&quot;: %s%s # %s\n&quot;</span>, d-&gt;data_type,</div>
<div class="line">                d-&gt;required ? <span class="stringliteral">&quot; [required]&quot;</span> : <span class="stringliteral">&quot;&quot;</span>, d-&gt;description);</div>
<div class="line">        }</div>
<div class="line">        puts(<span class="stringliteral">&quot;\t]&quot;</span>);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (!tdesc-&gt;ports_out)</div>
<div class="line">        puts(<span class="stringliteral">&quot;\tports_out: none&quot;</span>);</div>
<div class="line">    <span class="keywordflow">else</span> {</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">struct </span>sol_flow_port_description *<span class="keyword">const</span> *pdesc = tdesc-&gt;ports_out;</div>
<div class="line"></div>
<div class="line">        puts(<span class="stringliteral">&quot;\tports_out: [&quot;</span>);</div>
<div class="line">        <span class="keywordflow">for</span> (; *pdesc != NULL; pdesc++) {</div>
<div class="line">            <span class="keyword">const</span> <span class="keyword">struct </span>sol_flow_port_description *d = *pdesc;</div>
<div class="line"></div>
<div class="line">            printf(<span class="stringliteral">&quot;\t\t%s&quot;</span>, d-&gt;name);</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">if</span> (d-&gt;array_size)</div>
<div class="line">                printf(<span class="stringliteral">&quot;[%&quot;</span> PRIu16 <span class="stringliteral">&quot;]&quot;</span>, d-&gt;array_size);</div>
<div class="line"></div>
<div class="line">            printf(<span class="stringliteral">&quot;: %s%s # %s\n&quot;</span>, d-&gt;data_type,</div>
<div class="line">                d-&gt;required ? <span class="stringliteral">&quot; [required]&quot;</span> : <span class="stringliteral">&quot;&quot;</span>, d-&gt;description);</div>
<div class="line">        }</div>
<div class="line">        puts(<span class="stringliteral">&quot;\t]&quot;</span>);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    puts(<span class="stringliteral">&quot;}\n&quot;</span>);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="a11"></a><a class="code" href="find-type_8c.html#a885c0f6a15beb906679a60665f876882">show_resolved_type</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *name)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="structsol__flow__node__type.html">sol_flow_node_type</a> *type;</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">struct </span>sol_flow_node_type_description *tdesc;</div>
<div class="line">    <span class="keyword">struct </span><a name="_a12"></a><a class="code" href="structsol__flow__node__named__options.html">sol_flow_node_named_options</a> resolved_opts = {};</div>
<div class="line">    <span class="keywordtype">int</span> err;</div>
<div class="line"></div>
<div class="line">    err = <a name="a13"></a><a class="code" href="group__FlowResolver.html#ga2adc2ccba0c8f6068cdc7f5d79627850">sol_flow_resolve</a>(<a name="a14"></a><a class="code" href="group__FlowResolver.html#ga3d5340bc9db4b7427fbc1f079c562173">sol_flow_get_builtins_resolver</a>(), name, &amp;type, &amp;resolved_opts);</div>
<div class="line">    <span class="keywordflow">if</span> (err &lt; 0) {</div>
<div class="line">        err = <a class="code" href="group__FlowResolver.html#ga2adc2ccba0c8f6068cdc7f5d79627850">sol_flow_resolve</a>(NULL, name,</div>
<div class="line">            &amp;type, &amp;resolved_opts);</div>
<div class="line">        <span class="keywordflow">if</span> (err &lt; 0) {</div>
<div class="line">            fprintf(stderr, <span class="stringliteral">&quot;ERROR: Couldn&#39;t resolve type &#39;%s&#39;\n&quot;</span>, name);</div>
<div class="line">            <span class="keywordflow">return</span>;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    tdesc = type-&gt;description;</div>
<div class="line"></div>
<div class="line">    printf(<span class="stringliteral">&quot;resolved &#39;%s&#39; as type=%p &#39;%s&#39;&quot;</span>, name, type, tdesc-&gt;name);</div>
<div class="line"></div>
<div class="line">    <span class="comment">/*</span></div>
<div class="line"><span class="comment">     * A configuration file may define a new name for a type (alias)</span></div>
<div class="line"><span class="comment">     * and set of default options to use, returned as &#39;resolved_opts&#39;</span></div>
<div class="line"><span class="comment">     * variable that is a &#39;named options&#39; vector.</span></div>
<div class="line"><span class="comment">     *</span></div>
<div class="line"><span class="comment">     * For example,</span></div>
<div class="line"><span class="comment">     * src/samples/flow/grove-kit/sol-flow-intel-edison-rev-c.json</span></div>
<div class="line"><span class="comment">     * defines &#39;Relay&#39; as &#39;gpio/writer&#39; with options active_low=false</span></div>
<div class="line"><span class="comment">     * and pin=7.</span></div>
<div class="line"><span class="comment">     *</span></div>
<div class="line"><span class="comment">     * These &#39;named options&#39; can be converted in the actual options to</span></div>
<div class="line"><span class="comment">     * be passed to sol_flow_node_new() by means of</span></div>
<div class="line"><span class="comment">     * sol_flow_node_options_new().</span></div>
<div class="line"><span class="comment">     *</span></div>
<div class="line"><span class="comment">     * Print them to be informative.</span></div>
<div class="line"><span class="comment">     */</span></div>
<div class="line">    <span class="keywordflow">if</span> (resolved_opts.<a name="a15"></a><a class="code" href="structsol__flow__node__named__options.html#aa91e7d2374497f157dde2468d25ae9df">count</a>) {</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">struct </span><a name="_a16"></a><a class="code" href="structsol__flow__node__named__options__member.html">sol_flow_node_named_options_member</a> *itr, *itr_end;</div>
<div class="line"></div>
<div class="line">        itr = resolved_opts.<a name="a17"></a><a class="code" href="structsol__flow__node__named__options.html#acef27cce099b06500f1fdb448325d63d">members</a>;</div>
<div class="line">        itr_end = itr + resolved_opts.<a class="code" href="structsol__flow__node__named__options.html#aa91e7d2374497f157dde2468d25ae9df">count</a>;</div>
<div class="line"></div>
<div class="line">        fputs(<span class="stringliteral">&quot; options={&quot;</span>, stdout);</div>
<div class="line">        <span class="keywordflow">for</span> (; itr &lt; itr_end; itr++) {</div>
<div class="line">            printf(<span class="stringliteral">&quot;%s=&quot;</span>, itr-&gt;<a name="a18"></a><a class="code" href="structsol__flow__node__named__options__member.html#add491f7747bbc2f8341eb47c1beece55">name</a>);</div>
<div class="line">            <span class="keywordflow">switch</span> (itr-&gt;<a name="a19"></a><a class="code" href="structsol__flow__node__named__options__member.html#abb6a1682d9ba97a13212c6d5836020d1">type</a>) {</div>
<div class="line">            <span class="keywordflow">case</span> <a name="a20"></a><a class="code" href="group__Flow.html#ggad6aa4ffce3fa586301a74d97c92e0a8aa0612f1d03c65440a596c331ad6b09c10">SOL_FLOW_NODE_OPTIONS_MEMBER_BOOL</a>:</div>
<div class="line">                printf(<span class="stringliteral">&quot;%s&quot;</span>, itr-&gt;<a name="a21"></a><a class="code" href="structsol__flow__node__named__options__member.html#a3fcd66ed74d0c1d344ee4015e9ae26d9">boolean</a> ? <span class="stringliteral">&quot;true&quot;</span> : <span class="stringliteral">&quot;false&quot;</span>);</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            <span class="keywordflow">case</span> <a name="a22"></a><a class="code" href="group__Flow.html#ggad6aa4ffce3fa586301a74d97c92e0a8aa65cd5a67eaa5a923b0a9d4d3249c10c0">SOL_FLOW_NODE_OPTIONS_MEMBER_BYTE</a>:</div>
<div class="line">                printf(<span class="stringliteral">&quot;%#&quot;</span> PRIx8, itr-&gt;<a name="a23"></a><a class="code" href="structsol__flow__node__named__options__member.html#a7966dc4d221595dc54b401a9f296439f">byte</a>);</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            <span class="keywordflow">case</span> <a name="a24"></a><a class="code" href="group__Flow.html#ggad6aa4ffce3fa586301a74d97c92e0a8aa69dac16c8afeed3061819b25f2799a47">SOL_FLOW_NODE_OPTIONS_MEMBER_DIRECTION_VECTOR</a>:</div>
<div class="line">                printf(<span class="stringliteral">&quot;x:%g|y:%g|z:%g|min:%g|max:%g&quot;</span>,</div>
<div class="line">                    itr-&gt;<a name="a25"></a><a class="code" href="structsol__flow__node__named__options__member.html#a0bc89ff70ae006125afabf0253c42dac">direction_vector</a>.<a name="a26"></a><a class="code" href="structsol__direction__vector.html#a3d4d4aaa1818a98f7a3b270552f386fc">x</a>,</div>
<div class="line">                    itr-&gt;<a class="code" href="structsol__flow__node__named__options__member.html#a0bc89ff70ae006125afabf0253c42dac">direction_vector</a>.<a name="a27"></a><a class="code" href="structsol__direction__vector.html#a7a186b215697bc7a7892d861f7835567">y</a>,</div>
<div class="line">                    itr-&gt;<a class="code" href="structsol__flow__node__named__options__member.html#a0bc89ff70ae006125afabf0253c42dac">direction_vector</a>.<a name="a28"></a><a class="code" href="structsol__direction__vector.html#a23394b634b4e0b9bb3efbc12592b049e">z</a>,</div>
<div class="line">                    itr-&gt;<a class="code" href="structsol__flow__node__named__options__member.html#a0bc89ff70ae006125afabf0253c42dac">direction_vector</a>.<a name="a29"></a><a class="code" href="structsol__direction__vector.html#ac240d9c95e4e669090d1e6d42f216aef">min</a>,</div>
<div class="line">                    itr-&gt;<a class="code" href="structsol__flow__node__named__options__member.html#a0bc89ff70ae006125afabf0253c42dac">direction_vector</a>.<a name="a30"></a><a class="code" href="structsol__direction__vector.html#ac69d61579ede142d87e7821db9afe230">max</a>);</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            <span class="keywordflow">case</span> <a name="a31"></a><a class="code" href="group__Flow.html#ggad6aa4ffce3fa586301a74d97c92e0a8aaae05a5fa76794159f0d25f1176e86a13">SOL_FLOW_NODE_OPTIONS_MEMBER_DRANGE_SPEC</a>:</div>
<div class="line">                printf(<span class="stringliteral">&quot;min:%g|max:%g|step:%g&quot;</span>,</div>
<div class="line">                    itr-&gt;<a name="a32"></a><a class="code" href="structsol__flow__node__named__options__member.html#a79e2184b6f5a5c6cb0d40a0a0f6aa9dd">drange_spec</a>.<a name="a33"></a><a class="code" href="structsol__drange__spec.html#a0f7e38e9a21d9c68a8e70d286b3bfbdb">min</a>,</div>
<div class="line">                    itr-&gt;<a class="code" href="structsol__flow__node__named__options__member.html#a79e2184b6f5a5c6cb0d40a0a0f6aa9dd">drange_spec</a>.<a name="a34"></a><a class="code" href="structsol__drange__spec.html#a48b7c1ee59e100925736c3485b198668">max</a>,</div>
<div class="line">                    itr-&gt;<a class="code" href="structsol__flow__node__named__options__member.html#a79e2184b6f5a5c6cb0d40a0a0f6aa9dd">drange_spec</a>.<a name="a35"></a><a class="code" href="structsol__drange__spec.html#a8942fee508d515c9ec4b7aeb51a76011">step</a>);</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            <span class="keywordflow">case</span> <a name="a36"></a><a class="code" href="group__Flow.html#ggad6aa4ffce3fa586301a74d97c92e0a8aaf57c731d33a4ece78891245134a680fa">SOL_FLOW_NODE_OPTIONS_MEMBER_FLOAT</a>:</div>
<div class="line">                printf(<span class="stringliteral">&quot;%g&quot;</span>, itr-&gt;<a name="a37"></a><a class="code" href="structsol__flow__node__named__options__member.html#aab4bc7af2d07039cd1556ef8bc072d6c">f</a>);</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            <span class="keywordflow">case</span> <a name="a38"></a><a class="code" href="group__Flow.html#ggad6aa4ffce3fa586301a74d97c92e0a8aadc486e8d026a4305b80e3882229d32cd">SOL_FLOW_NODE_OPTIONS_MEMBER_INT</a>:</div>
<div class="line">                printf(<span class="stringliteral">&quot;%&quot;</span> PRId32, itr-&gt;<a name="a39"></a><a class="code" href="structsol__flow__node__named__options__member.html#a2db56da86788d7582dc22d4f31ea33cf">i</a>);</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            <span class="keywordflow">case</span> <a name="a40"></a><a class="code" href="group__Flow.html#ggad6aa4ffce3fa586301a74d97c92e0a8aaf71a049b20f281d83039007e3e739f81">SOL_FLOW_NODE_OPTIONS_MEMBER_IRANGE_SPEC</a>:</div>
<div class="line">                printf(<span class="stringliteral">&quot;min:%&quot;</span> PRId32 <span class="stringliteral">&quot;|max:%&quot;</span> PRId32 <span class="stringliteral">&quot;|step:%&quot;</span> PRId32,</div>
<div class="line">                    itr-&gt;<a name="a41"></a><a class="code" href="structsol__flow__node__named__options__member.html#a8fc1d86df533c7e532686daed3733940">irange_spec</a>.<a name="a42"></a><a class="code" href="structsol__irange__spec.html#a5ddf91b9cd7b3ede2b328a5603f8f14c">min</a>,</div>
<div class="line">                    itr-&gt;<a class="code" href="structsol__flow__node__named__options__member.html#a8fc1d86df533c7e532686daed3733940">irange_spec</a>.<a name="a43"></a><a class="code" href="structsol__irange__spec.html#abedefcbe32a2297085a07086a7d8caed">max</a>,</div>
<div class="line">                    itr-&gt;<a class="code" href="structsol__flow__node__named__options__member.html#a8fc1d86df533c7e532686daed3733940">irange_spec</a>.<a name="a44"></a><a class="code" href="structsol__irange__spec.html#a7e3300d45ef65760bd13d28964fa7876">step</a>);</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            <span class="keywordflow">case</span> <a name="a45"></a><a class="code" href="group__Flow.html#ggad6aa4ffce3fa586301a74d97c92e0a8aa89036a5600283b37630f60fdf266dcf8">SOL_FLOW_NODE_OPTIONS_MEMBER_RGB</a>:</div>
<div class="line">                printf(</div>
<div class="line">                    <span class="stringliteral">&quot;red:%&quot;</span> PRId32 <span class="stringliteral">&quot;|green:%&quot;</span> PRId32 <span class="stringliteral">&quot;|blue:%&quot;</span> PRId32 <span class="stringliteral">&quot;|&quot;</span></div>
<div class="line">                    <span class="stringliteral">&quot;red_max:%&quot;</span> PRId32 <span class="stringliteral">&quot;|green_max:%&quot;</span> PRId32 <span class="stringliteral">&quot;|blue_max:%&quot;</span> PRId32,</div>
<div class="line">                    itr-&gt;<a name="a46"></a><a class="code" href="structsol__flow__node__named__options__member.html#ab67e2a0742d5a0e017af197b16fb9c23">rgb</a>.<a name="a47"></a><a class="code" href="structsol__rgb.html#a32080b9acbd2530ef318773aacaf216c">red</a>,</div>
<div class="line">                    itr-&gt;<a class="code" href="structsol__flow__node__named__options__member.html#ab67e2a0742d5a0e017af197b16fb9c23">rgb</a>.<a name="a48"></a><a class="code" href="structsol__rgb.html#a9f17d39fb54bf62844959cd34fafd402">green</a>,</div>
<div class="line">                    itr-&gt;<a class="code" href="structsol__flow__node__named__options__member.html#ab67e2a0742d5a0e017af197b16fb9c23">rgb</a>.<a name="a49"></a><a class="code" href="structsol__rgb.html#af34865089e810d30ce07a6d2a1114b9e">blue</a>,</div>
<div class="line">                    itr-&gt;<a class="code" href="structsol__flow__node__named__options__member.html#ab67e2a0742d5a0e017af197b16fb9c23">rgb</a>.<a name="a50"></a><a class="code" href="structsol__rgb.html#aa74614f922adfbfb227c5e703f71df38">red_max</a>,</div>
<div class="line">                    itr-&gt;<a class="code" href="structsol__flow__node__named__options__member.html#ab67e2a0742d5a0e017af197b16fb9c23">rgb</a>.<a name="a51"></a><a class="code" href="structsol__rgb.html#af5ef44d71709aa2a88116e6b97c71e28">green_max</a>,</div>
<div class="line">                    itr-&gt;<a class="code" href="structsol__flow__node__named__options__member.html#ab67e2a0742d5a0e017af197b16fb9c23">rgb</a>.<a name="a52"></a><a class="code" href="structsol__rgb.html#a43d6fd8ca5bb7531ddf93fa8c1075b30">blue_max</a>);</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            <span class="keywordflow">case</span> <a name="a53"></a><a class="code" href="group__Flow.html#ggad6aa4ffce3fa586301a74d97c92e0a8aaafcebd8d33f7b00f66661bc7e9647334">SOL_FLOW_NODE_OPTIONS_MEMBER_STRING</a>:</div>
<div class="line">                printf(<span class="stringliteral">&quot;\&quot;%s\&quot;&quot;</span>, itr-&gt;<a name="a54"></a><a class="code" href="structsol__flow__node__named__options__member.html#abed00c5b231710b49df56440beb63150">string</a> ? itr-&gt;<a class="code" href="structsol__flow__node__named__options__member.html#abed00c5b231710b49df56440beb63150">string</a> : <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            <span class="keywordflow">default</span>:</div>
<div class="line">                fprintf(stderr, <span class="stringliteral">&quot;\nERROR: doesn&#39;t suppport printing named option of type &#39;%d&#39;\n&quot;</span>, itr-&gt;<a class="code" href="structsol__flow__node__named__options__member.html#abb6a1682d9ba97a13212c6d5836020d1">type</a>);</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">if</span> (itr + 1 &lt; itr_end)</div>
<div class="line">                fputs(<span class="stringliteral">&quot;, &quot;</span>, stdout);</div>
<div class="line">        }</div>
<div class="line">        putchar(<span class="charliteral">&#39;}&#39;</span>);</div>
<div class="line"></div>
<div class="line">        <a name="a55"></a><a class="code" href="group__Flow.html#gae5ff86bab1a1bab3fc2bfa6c541aafb4">sol_flow_node_named_options_fini</a>(&amp;resolved_opts);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    putchar(<span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"></div>
<div class="line">    <a class="code" href="find-type_8c.html#a0441c083e307b121d9e163d93813738f">print_type</a>(type);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="a56"></a><a class="code" href="browse_8c.html#a8f65ca9f5a72be7fe776126fc632f8a9">startup</a>(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">char</span> **argv = <a class="code" href="group__Mainloop.html#ga924fdfbe38b222739c2bc43a63802fac">sol_argv</a>();</div>
<div class="line">    <span class="keywordtype">int</span> c, opt_idx, argc = <a name="a57"></a><a class="code" href="group__Mainloop.html#ga12cabf4e32145c725bb37bf94515d397">sol_argc</a>();</div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">struct </span>option opts[] = {</div>
<div class="line">        { <span class="stringliteral">&quot;builtins&quot;</span>, no_argument, NULL, <span class="charliteral">&#39;b&#39;</span> },</div>
<div class="line">        { <span class="stringliteral">&quot;of-module&quot;</span>, required_argument, NULL, <span class="charliteral">&#39;m&#39;</span> },</div>
<div class="line">        { <span class="stringliteral">&quot;help&quot;</span>, no_argument, NULL, <span class="charliteral">&#39;h&#39;</span> },</div>
<div class="line">        { 0, 0, 0, 0 }</div>
<div class="line">    };</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">while</span> ((c = getopt_long(argc, argv, <span class="stringliteral">&quot;brm:h&quot;</span>, opts, &amp;opt_idx)) != -1) {</div>
<div class="line">        <span class="keywordflow">switch</span> (c) {</div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;b&#39;</span>:</div>
<div class="line">            <a class="code" href="find-type_8c.html#ac30de2ff4e7f2de6ee1cfe478b4da774">show_builtins</a>();</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;m&#39;</span>:</div>
<div class="line">            <a class="code" href="find-type_8c.html#a05b61a745cbf47939c3d6c183013285a">show_module_types</a>(optarg);</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;h&#39;</span>:</div>
<div class="line">            <a class="code" href="find-type_8c.html#aef20148be3ae52ac456c42f8217b8a95">show_help</a>();</div>
<div class="line">            <a name="a58"></a><a class="code" href="group__Mainloop.html#ga56c31320e4348c91a719039b5a22dd25">sol_quit</a>();</div>
<div class="line">            <span class="keywordflow">return</span>;</div>
<div class="line">        <span class="keywordflow">default</span>:</div>
<div class="line">            <a class="code" href="find-type_8c.html#aef20148be3ae52ac456c42f8217b8a95">show_help</a>();</div>
<div class="line">            <a name="a59"></a><a class="code" href="group__Mainloop.html#gab1deec1c7e4da3b7b8caeafe9369b816">sol_quit_with_code</a>(EXIT_FAILURE);</div>
<div class="line">            <span class="keywordflow">return</span>;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">for</span> (c = optind; c &lt; argc; c++)</div>
<div class="line">        <a class="code" href="find-type_8c.html#a885c0f6a15beb906679a60665f876882">show_resolved_type</a>(argv[c]);</div>
<div class="line"></div>
<div class="line">    <a class="code" href="group__Mainloop.html#ga56c31320e4348c91a719039b5a22dd25">sol_quit</a>(); <span class="comment">/* no need to wait for mainloop */</span></div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="a60"></a><a class="code" href="browse_8c.html#af80085e2fde103b0fcdf58fcab027e47">shutdown</a>(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><a name="a61"></a><a class="code" href="group__Mainloop.html#ga54818bc87ca55fe50e3732f52b56e009">SOL_MAIN_DEFAULT</a>(<a class="code" href="browse_8c.html#a8f65ca9f5a72be7fe776126fc632f8a9">startup</a>, <a class="code" href="browse_8c.html#af80085e2fde103b0fcdf58fcab027e47">shutdown</a>);</div>
</div><!-- fragment --> </div><!-- contents -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
<a href="http://solettaproject.github.io/docs/">Full online documentation</a> | 
<a href="index.html">C API Index</a>
</small></address>
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
