<!-- HTML header for doxygen 1.8.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>Soletta: sol_gpio_config Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="style.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Soletta
   </div>
   <div id="projectbrief">Framework for making IoT devices</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">sol_gpio_config Struct Reference<div class="ingroups"><a class="el" href="group__IO.html">I/O</a> &raquo; <a class="el" href="group__GPIO.html">GPIO</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Structure to hold the configuration of a GPIO device.  
 <a href="structsol__gpio__config.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="sol-gpio_8h_source.html">sol-gpio.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:a472c4ba858550d58a76a7516ac6d510e"><td class="memItemLeft" >union {</td></tr>
<tr class="memitem:a57eca4c122be9c6b5eaf4c6f50086749"><td class="memItemLeft" >&#160;&#160;&#160;struct {</td></tr>
<tr class="memitem:a847bfc0b12e8ddcc918dc3c666d3bc09"><td class="memItemLeft" >&#160;&#160;&#160;&#160;&#160;&#160;void(*&#160;&#160;&#160;<a class="el" href="structsol__gpio__config.html#af29d2a4a2a4ae8fa3581ac011513f5dc">cb</a> )(void *data, struct sol_gpio <br class="typebreak" />
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;*<a class="el" href="linux-micro-init_8c.html#a23380139d1b4f0e5a844c2c77e3d50b3">gpio</a>, bool <a class="el" href="structsol__gpio__config.html#a630eef44e0d91063bf3f673c6a59a65a">value</a>)</td></tr>
<tr class="separator:a847bfc0b12e8ddcc918dc3c666d3bc09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5317ebb974cd5aa6f82ad6f277d9c774"><td class="memItemLeft" >&#160;&#160;&#160;&#160;&#160;&#160;uint32_t&#160;&#160;&#160;<a class="el" href="structsol__gpio__config.html#ada10914d4ee71b1a7cae54bbc0a21baf">poll_timeout</a></td></tr>
<tr class="separator:a5317ebb974cd5aa6f82ad6f277d9c774"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ea43151fedafb9d5ab58e5790b4766e"><td class="memItemLeft" >&#160;&#160;&#160;&#160;&#160;&#160;enum <a class="el" href="group__GPIO.html#ga2eb2c3701a458a5d8ad9dafeff42d27c">sol_gpio_edge</a>&#160;&#160;&#160;<a class="el" href="structsol__gpio__config.html#ab5d205e0ba3ec20be24ed02adceffc15">trigger_mode</a></td></tr>
<tr class="separator:a1ea43151fedafb9d5ab58e5790b4766e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66334671e27bf6106b2558dacc56db49"><td class="memItemLeft" >&#160;&#160;&#160;&#160;&#160;&#160;const void *&#160;&#160;&#160;<a class="el" href="structsol__gpio__config.html#aee50df73dc45a8586a090d5edda15fbe">user_data</a></td></tr>
<tr class="separator:a66334671e27bf6106b2558dacc56db49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57eca4c122be9c6b5eaf4c6f50086749"><td class="memItemLeft" valign="top">&#160;&#160;&#160;}&#160;&#160;&#160;<a class="el" href="structsol__gpio__config.html#a61b8c272a4354dfbf87cb05c331e2ca2">in</a></td></tr>
<tr class="separator:a57eca4c122be9c6b5eaf4c6f50086749"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6fe79fa289f9678719f12c867dab2863"><td class="memItemLeft" >&#160;&#160;&#160;struct {</td></tr>
<tr class="memitem:a1e49fdb60dbac741dbe75aa44e464c88"><td class="memItemLeft" >&#160;&#160;&#160;&#160;&#160;&#160;bool&#160;&#160;&#160;<a class="el" href="structsol__gpio__config.html#a630eef44e0d91063bf3f673c6a59a65a">value</a></td></tr>
<tr class="separator:a1e49fdb60dbac741dbe75aa44e464c88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6fe79fa289f9678719f12c867dab2863"><td class="memItemLeft" valign="top">&#160;&#160;&#160;}&#160;&#160;&#160;<a class="el" href="structsol__gpio__config.html#af2a56747517ae3827fa8297a415ffbce">out</a></td></tr>
<tr class="separator:a6fe79fa289f9678719f12c867dab2863"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a472c4ba858550d58a76a7516ac6d510e"><td class="memItemLeft" valign="top">};&#160;</td><td class="memItemRight" valign="bottom"></td></tr>
<tr class="separator:a472c4ba858550d58a76a7516ac6d510e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00ce9799e4b4aca1a5b046fec5b4abf2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsol__gpio__config.html#a00ce9799e4b4aca1a5b046fec5b4abf2">active_low</a></td></tr>
<tr class="separator:a00ce9799e4b4aca1a5b046fec5b4abf2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a134fcdb4a2d53a04f277d91773397a8e"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsol__gpio__config.html#a134fcdb4a2d53a04f277d91773397a8e">api_version</a></td></tr>
<tr class="separator:a134fcdb4a2d53a04f277d91773397a8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe368dadd0e2037b186aa54f3741a439"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="group__GPIO.html#ga587db921a438194c759af25a2bad2c26">sol_gpio_direction</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsol__gpio__config.html#abe368dadd0e2037b186aa54f3741a439">dir</a></td></tr>
<tr class="separator:abe368dadd0e2037b186aa54f3741a439"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a95d5c3bbd554756219978f9b9820dc"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="group__GPIO.html#ga9b8be46f5c047916a5cb7ecc51cf9ec6">sol_gpio_drive</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsol__gpio__config.html#a4a95d5c3bbd554756219978f9b9820dc">drive_mode</a></td></tr>
<tr class="separator:a4a95d5c3bbd554756219978f9b9820dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Structure to hold the configuration of a GPIO device. </p>
<p>When opening a GPIO with <a class="el" href="group__GPIO.html#ga70edac7e992afc2296b7b115e8f09858" title="Opens a given pin by its board label as general purpose input or output. ">sol_gpio_open_by_label()</a>, <a class="el" href="group__GPIO.html#gaf420d923e534968d329166aecef7ea9a" title="Opens a given pin as general purpose input or output. ">sol_gpio_open()</a> or <a class="el" href="group__GPIO.html#gaaa42e7c282343b6b59a6080d6958818c" title="Opens a given pin as general purpose input or output. ">sol_gpio_open_raw()</a>, the parameters with which the GPIO is configured are those defined in this structure.</p>
<p>If there's a need to change any of these parameters, the GPIO must be closed and opened again with a new configuration. </p>
</div><h2 class="groupheader">Field Documentation</h2>
<a class="anchor" id="a472c4ba858550d58a76a7516ac6d510e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">union { ... } </td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a00ce9799e4b4aca1a5b046fec5b4abf2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool sol_gpio_config::active_low</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Whether the GPIO is considered active when it's in a low state.</p>
<p>If set, then the logical state of the GPIO will be reversed in relation to the physical state. That is, for input GPIOs, when the current on the wire goes to a low state, the value returned by <a class="el" href="group__GPIO.html#gaf716c7d8844ea68688744a33d44e77e5" title="Get the current value set to pin. ">sol_gpio_read()</a> will be <code>true</code>. Conversely, it will be <code>false</code> when the physical state is high.</p>
<p>The same logic applies for output GPIOs when a value is written through <a class="el" href="group__GPIO.html#ga8276772a423a17b3650f859bd1d2716c" title="Set an arbitrary value to pin. ">sol_gpio_write()</a>.</p>
<p>This is useful to keep the application logic simpler in the face of different hardware configurations. </p>

</div>
</div>
<a class="anchor" id="a134fcdb4a2d53a04f277d91773397a8e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t sol_gpio_config::api_version</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="linux-micro-init_8c.html#a8f65ca9f5a72be7fe776126fc632f8a9">startup()</a>.</p>

</div>
</div>
<a class="anchor" id="af29d2a4a2a4ae8fa3581ac011513f5dc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* sol_gpio_config::cb) (void *data, struct sol_gpio *<a class="el" href="linux-micro-init_8c.html#a23380139d1b4f0e5a844c2c77e3d50b3">gpio</a>, bool <a class="el" href="structsol__gpio__config.html#a630eef44e0d91063bf3f673c6a59a65a">value</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The function to call when an event happens.</p>
<p>Different systems handle interruptions differently, and so to maintain consistency across them, there is no queue of values triggered by interruptions. Instead, when an interruption happens, the main loop will handle it and call the user function provided here, with the value of the GPIO at that time. This means that the if the application takes too long to return to the main loop while interruptions are happening, some of those values will be lost.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>The user data pointer provided in <code>user_data</code>. </td></tr>
    <tr><td class="paramname">gpio</td><td>The GPIO instance that triggered the event. </td></tr>
    <tr><td class="paramname">value</td><td>The value of the GPIO at the moment the function is called. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="abe368dadd0e2037b186aa54f3741a439"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__GPIO.html#ga587db921a438194c759af25a2bad2c26">sol_gpio_direction</a> sol_gpio_config::dir</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The direction in which to open the GPIO. </p>

<p>Referenced by <a class="el" href="linux-micro-init_8c.html#a8f65ca9f5a72be7fe776126fc632f8a9">startup()</a>.</p>

</div>
</div>
<a class="anchor" id="a4a95d5c3bbd554756219978f9b9820dc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__GPIO.html#ga9b8be46f5c047916a5cb7ecc51cf9ec6">sol_gpio_drive</a> sol_gpio_config::drive_mode</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Pull-up or pull-down resistor state for this GPIO.</p>
<p>One of <a class="el" href="group__GPIO.html#ga9b8be46f5c047916a5cb7ecc51cf9ec6" title="Possible values for pull-up or pull-down resistor of a GPIO. ">sol_gpio_drive</a>. Some platforms will configure GPIO taking this in consideration, as Continki and RIOT. </p>

</div>
</div>
<a class="anchor" id="a61b8c272a4354dfbf87cb05c331e2ca2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct { ... }   sol_gpio_config::in</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Configuration parameters for input GPIOs. </p>

</div>
</div>
<a class="anchor" id="af2a56747517ae3827fa8297a415ffbce"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct { ... }   sol_gpio_config::out</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Configuration parameters for output GPIOs. </p>

</div>
</div>
<a class="anchor" id="ada10914d4ee71b1a7cae54bbc0a21baf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t sol_gpio_config::poll_timeout</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Time to poll for events, in milliseconds.</p>
<p>In the case that interruptions are not supported by the selected GPIO, the implementation will fall back to polling the pin for changes in its value.</p>
<p>The <code>cb</code> function provided will be called only when a change in the value is detected, so if the timeout is too long, it may lose events. </p>

</div>
</div>
<a class="anchor" id="ab5d205e0ba3ec20be24ed02adceffc15"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__GPIO.html#ga2eb2c3701a458a5d8ad9dafeff42d27c">sol_gpio_edge</a> sol_gpio_config::trigger_mode</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>When to trigger events for this GPIO.</p>
<p>One of <a class="el" href="group__GPIO.html#ga2eb2c3701a458a5d8ad9dafeff42d27c" title="Possible values for the edge mode of a GPIO. ">sol_gpio_edge</a>. If the value set is anything other than <a class="el" href="group__GPIO.html#gga2eb2c3701a458a5d8ad9dafeff42d27ca17f9af27eac7602fc60d29d73c963cdc">SOL_GPIO_EDGE_NONE</a>, then the <code>cb</code> member must be set. </p>

</div>
</div>
<a class="anchor" id="aee50df73dc45a8586a090d5edda15fbe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const void* sol_gpio_config::user_data</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>User data poinetr to pass to the <code>cb</code> function. </p>

</div>
</div>
<a class="anchor" id="a630eef44e0d91063bf3f673c6a59a65a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool sol_gpio_config::value</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The initial value to write when the GPIO is opened. </p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>src/lib/io/include/<a class="el" href="sol-gpio_8h_source.html">sol-gpio.h</a></li>
</ul>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.10
</small></address>
</body>
</html>
